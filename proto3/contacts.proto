// first line: Syntax specification line
syntax = "proto3";
package contacts2; // namespace

import "google/protobuf/any.proto";

message Address
{
    string home_address = 1; // home address
    string unit_address = 2; // work address
}

// define contacts info
message PeopleInfo
{
    // name
    string name = 1;
    // age
    int32 age = 2;
    message Phone
    {
        string number = 1;
        enum PhoneType
        {
            MP = 0; // mobile phone
            TEL = 1; // telephone
        }
        PhoneType type = 2;
    }
    repeated Phone phone = 3;
    google.protobuf.Any data = 4;

    oneof other_contact
    {
        // keyword repeated not allowed
        string qq = 5;
        string wechat = 6;
    }

    map<string, string> remark = 7;

}
    

// contacts info
message Contacts
{
    repeated PeopleInfo contacts = 1;
}

// import "phone.proto";

// message Phone
// {
//     string number = 1; 
// }

// // define contacts info
// message PeopleInfo
// {
//     // name
//     string name = 1;
//     // age
//     int32 age = 2;
//     // repeated string phone_numbers = 3;

//     // message Phone
//     // {
//     //     string number = 1;
//     // }

//     repeated phone.Phone phone = 3;

// }
